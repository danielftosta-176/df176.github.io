var exports=function(){var b=function(a){this.cb=a;this.setParams();this.resetPoints()};b.PARAMS_LOBBY={allowance:200,max:600};b.PARAMS_NORMAL={allowance:400,max:1200};b.PARAMS_RIDICULOUS={allowance:600,max:1800};b.PARAMS_OFFLINE={allowance:8E3,max:24E3,maxHistLen:3};b.PARAMS_UNLIMITED={allowance:1E6,max:3E6,maxHistLen:3};b.prototype.getParams=function(){return{m:"nq",allowance:this.allowance,max:this.max,maxHistLen:this.maxHistLen}};b.prototype.setParams=function(a){a=a||b.PARAMS_OFFLINE;var c=a.allowance||
	this.allowance||b.PARAMS_OFFLINE.allowance,d=a.max||this.max||b.PARAMS_OFFLINE.max;a=a.maxHistLen||this.maxHistLen||b.PARAMS_OFFLINE.maxHistLen;return c!==this.allowance||d!==this.max||a!==this.maxHistLen?(this.allowance=c,this.max=d,this.maxHistLen=a,this.resetPoints(),!0):!1};b.prototype.resetPoints=function(){this.points=this.max;this.history=[];for(var a=0;a<this.maxHistLen;a++)this.history.unshift(this.points);this.cb&&this.cb(this.points)};b.prototype.tick=function(){this.history.unshift(this.points);
	this.history.length=this.maxHistLen;this.points<this.max&&(this.points+=this.allowance,this.points>this.max&&(this.points=this.max),this.cb&&this.cb(this.points))};b.prototype.spend=function(a){var c=0,d;for(d in this.history)c+=this.history[d];0>=c&&(a*=this.allowance);if(this.points<a)return!1;this.points-=a;this.cb&&this.cb(this.points);return!0};return b}();"undefined"!==typeof module?module.exports=exports:this.NoteQuota=exports;